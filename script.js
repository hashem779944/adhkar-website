// بيانات الأذكار
const adhkarData = [
    {
        text: "أَعُوذُ بِاللَّهِ مِنَ الشَّيطَانِ الرَّجِيمِ ﴿اللَّهُ لاَ إِلَهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ لاَ تَأْخُذُهُ سِنَةٌ وَلاَ نَوْمٌ لَّهُ مَا فِي السَّمَوَاتِ وَمَا فِي الأَرْضِ مَن ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلاَّ بِإِذْنِهِ يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ وَلاَ يُحِيطُونَ بِشَيْءٍ مِّنْ عِلْمِهِ إِلاَّ بِمَا شَاء وَسِعَ كُرْسِيُّهُ السَّمَوَاتِ وَالْأَرْضَ وَلاَ يَؤُودُهُ حِفْظُهُمَا وَهُوَ الْعَلِيُّ الْعَظِيمُ﴾",
        count: "مرة واحدة"
    },
    {
        text: "بسم الله الرحمن الرحيم ﴿قُلْ هُوَ اللَّهُ أَحَدٌ * اللَّهُ الصَّمَدُ * لَمْ يَلِدْ وَلَمْ يُولَدْ * وَلَمْ يَكُن لَّهُ كُفُواً أَحَدٌ﴾",
        count: "ثلاث مرات"
    },
    {
        text: "بسم الله الرحمن الرحيم ﴿قُلْ أَعُوذُ بِرَبِّ الْفَلَقِ * مِن شَرِّ مَا خَلَقَ * وَمِن شَرِّ غَاسِقٍ إِذَا وَقَبَ * وَمِن شَرِّ النَّفَّاثَاتِ فِي الْعُقَدِ * وَمِن شَرِّ حَاسِدٍ إِذَا حَسَدَ﴾",
        count: "ثلاث مرات"
    },
    {
        text: "بسم الله الرحمن الرحيم ﴿قُلْ أَعُوذُ بِرَبِّ النَّاسِ * مَلِكِ النَّاسِ * إِلَهِ النَّاسِ * مِن شَرِّ الْوَسْوَاسِ الْخَنَّاسِ * الَّذِي يُوَسْوِسُ فِي صُدُورِ النَّاسِ * مِنَ الْجِنَّةِ وَ النَّاسِ﴾",
        count: "ثلاث مرات"
    },
    {
        text: "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ، وَالْحَمْدُ لِلَّهِ، لاَ إِلَهَ إلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ، رَبِّ أَسْأَلُكَ خَيْرَ مَا فِي هَذَا الْيَوْمِ وَخَيرَ مَا بَعْدَهُ، وَأَعُوذُ بِكَ مِنْ شَرِّ مَا فِي هَذَا الْيَوْمِ وَشَرِّ مَا بَعْدَهُ، رَبِّ أَعُوذُ بِكَ مِنَ الْكَسَلِ وَسُوءِ الْكِبَرِ، رَبِّ أَعُوذُ بِكَ مِنْ عَذَابٍ فِي النَّارِ وَعَذَابٍ فِي الْقَبْرِ",
        count: "مرة واحدة",
        morning: "أَصْبَحْنَا وَأَصْبَحَ الْمُلْكُ لِلَّهِ",
        evening: "أَمْسَيْنَا وَأَمْسَى الْمُلْكُ لِلَّهِ"
    },
    {
        text: "اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ وَإِلَيْكَ النُّشُورُ",
        count: "مرة واحدة",
        morning: "اللَّهُمَّ بِكَ أَصْبَحْنَا، وَبِكَ أَمْسَيْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ وَإِلَيْكَ النُّشُورُ",
        evening: "اللَّهُمَّ بِكَ أَمْسَيْنَا، وَبِكَ أَصْبَحْنَا، وَبِكَ نَحْيَا، وَبِكَ نَمُوتُ وَإِلَيْكَ الْمَصِيرُ"
    },
    {
        text: "اللَّهُمَّ أَنْتَ رَبِّي لَا إِلَهَ إِلاَّ أَنْتَ، خَلَقْتَنِي وَأَنَا عَبْدُكَ، وَأَنَا عَلَى عَهْدِكَ وَوَعْدِكَ مَا اسْتَطَعْتُ، أَعُوذُ بِكَ مِنْ شَرِّ مَا صَنَعْتُ، أَبُوءُ لَكَ بِنِعْمَتِكَ عَلَيَّ، وَأَبُوءُ بِذَنْبِي فَاغْفِرْ لِي فَإِنَّهُ لاَ يَغْفِرُ الذُّنوبَ إِلاَّ أَنْتَ",
        count: "مرة واحدة"
    },
    {
        text: "اللَّهُمَّ إِنِّي أَصْبَحْتُ أُشْهِدُكَ، وَأُشْهِدُ حَمَلَةَ عَرْشِكَ، وَمَلاَئِكَتِكَ، وَجَمِيعَ خَلْقِكَ، أَنَّكَ أَنْتَ اللَّهُ لَا إِلَهَ إِلاَّ أَنْتَ وَحْدَكَ لاَ شَرِيكَ لَكَ، وَأَنَّ مُحَمَّداً عَبْدُكَ وَرَسُولُكَ",
        count: "أربع مرات",
        morning: "اللَّهُمَّ إِنِّي أَصْبَحْتُ أُشْهِدُكَ",
        evening: "اللَّهُمَّ إِنِّي أَمْسَيْتُ أُشْهِدُكَ"
    },
    {
        text: "اللَّهُمَّ مَا أَصْبَحَ بِي مِنْ نِعْمَةٍ أَوْ بِأَحَدٍ مِنْ خَلْقِكَ فَمِنْكَ وَحْدَكَ لاَ شَرِيكَ لَكَ، فَلَكَ الْحَمْدُ وَلَكَ الشُّكْرُ",
        count: "مرة واحدة",
        morning: "اللَّهُمَّ مَا أَصْبَحَ بِي مِنْ نِعْمَةٍ",
        evening: "اللَّهُمَّ مَا أَمْسَى بِي مِنْ نِعْمَةٍ"
    },
    {
        text: "اللَّهُمَّ عَافِنِي فِي بَدَنِي، اللَّهُمَّ عَافِنِي فِي سَمْعِي، اللَّهُمَّ عَافِنِي فِي بَصَرِي، لاَ إِلَهَ إِلاَّ أَنْتَ. اللَّهُمَّ إِنِّي أَعُوذُ بِكَ مِنَ الْكُفْرِ، وَالفَقْرِ، وَأَعُوذُ بِكَ مِنْ عَذَابِ القَبْرِ، لاَ إِلَهَ إِلاَّ أَنْتَ",
        count: "ثلاث مرات"
    },
    {
        text: "حَسْبِيَ اللَّهُ لاَ إِلَهَ إِلاَّ هُوَ عَلَيهِ تَوَكَّلتُ وَهُوَ رَبُّ الْعَرْشِ الْعَظِيمِ",
        count: "سبع مرات"
    },
    {
        text: "بِسْمِ اللَّهِ الَّذِي لاَ يَضُرُّ مَعَ اسْمِهِ شَيْءٌ فِي الْأَرْضِ وَلاَ فِي السّمَاءِ وَهُوَ السَّمِيعُ الْعَلِيمُ",
        count: "ثلاث مرات"
    },
    {
        text: "رَضِيتُ بِاللَّهِ رَبَّاً، وَبِالْإِسْلاَمِ دِيناً، وَبِمُحَمَّدٍ صلى الله عليه وسلم نَبِيّاً",
        count: "ثلاث مرات"
    },
    {
        text: "يَا حَيُّ يَا قَيُّومُ بِرَحْمَتِكَ أَسْتَغيثُ أَصْلِحْ لِي شَأْنِيَ كُلَّهُ وَلاَ تَكِلْنِي إِلَى نَفْسِي طَرْفَةَ عَيْنٍ",
        count: "مرة واحدة"
    },
    {
        text: "سُبْحَانَ اللَّهِ وَبِحَمْدِهِ",
        count: "مائة مرة"
    },
    {
        text: "لاَ إِلَهَ إِلاَّ اللَّهُ وَحْدَهُ لاَ شَرِيكَ لَهُ، لَهُ الْمُلْكُ وَلَهُ الْحَمْدُ، وَهُوَ عَلَى كُلِّ شَيْءٍ قَدِيرٌ",
        count: "عشر مرات"
    }
];

// متغيرات عامة
let currentTheme = 'morning';

// عناصر DOM
const morningBtn = document.getElementById('morningBtn');
const eveningBtn = document.getElementById('eveningBtn');
const adhkarContainer = document.getElementById('adhkarContainer');
const body = document.body;

// تهيئة الصفحة
document.addEventListener('DOMContentLoaded', function() {
    // تعيين الثيم الافتراضي
    setTheme('morning');
    
    // عرض الأذكار
    displayAdhkar();
    
    // إضافة مستمعي الأحداث
    morningBtn.addEventListener('click', () => setTheme('morning'));
    eveningBtn.addEventListener('click', () => setTheme('evening'));
});

// تغيير الثيم
function setTheme(theme) {
    currentTheme = theme;
    
    // تحديث الجسم
    body.className = theme;
    
    // تحديث الأزرار
    morningBtn.classList.toggle('active', theme === 'morning');
    eveningBtn.classList.toggle('active', theme === 'evening');
    
    // إعادة عرض الأذكار مع النصوص المناسبة
    displayAdhkar();
}

// عرض الأذكار
function displayAdhkar() {
    adhkarContainer.innerHTML = '';
    
    adhkarData.forEach((dhikr, index) => {
        const dhikrCard = document.createElement('div');
        dhikrCard.className = 'dhikr-card';
        
        // تحديد النص المناسب حسب الوقت
        let dhikrText = dhikr.text;
        if (dhikr.morning && dhikr.evening) {
            dhikrText = currentTheme === 'morning' ? 
                dhikr.text.replace(dhikr.text.split('،')[0], dhikr.morning) :
                dhikr.text.replace(dhikr.text.split('،')[0], dhikr.evening);
        }
        
        dhikrCard.innerHTML = `
            <div class="dhikr-text">${dhikrText}</div>
            <div class="dhikr-count">${dhikr.count}</div>
        `;
        
        // إضافة تأخير للتحريك
        dhikrCard.style.animationDelay = `${index * 0.1}s`;
        
        adhkarContainer.appendChild(dhikrCard);
    });
}

// تأثيرات إضافية
document.addEventListener('click', function(e) {
    if (e.target.closest('.dhikr-card')) {
        const card = e.target.closest('.dhikr-card');
        card.style.transform = 'scale(0.98)';
        setTimeout(() => {
            card.style.transform = '';
        }, 150);
    }
});

// تحديث الوقت تلقائياً
function autoUpdateTheme() {
    const now = new Date();
    const hour = now.getHours();
    
    // الصباح من 6 صباحاً إلى 6 مساءً
    if (hour >= 6 && hour < 18) {
        if (currentTheme !== 'morning') {
            setTheme('morning');
        }
    } else {
        if (currentTheme !== 'evening') {
            setTheme('evening');
        }
    }
}

// تحديث الثيم كل دقيقة
setInterval(autoUpdateTheme, 60000);

// تحديث الثيم عند تحميل الصفحة
autoUpdateTheme();

